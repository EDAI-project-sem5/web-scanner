import requests

def is_file_upload_vulnerable(url):
    # Simulate a malicious file upload attack
    files = {
        "file": ("malicious.php", "<?php echo 'Malicious Code'; ?>", "application/x-php")
    }
    
    try:
        # Send POST request to upload the file
        response = requests.post(url, files=files)

        # Check if the endpoint accepts file uploads
        if response.status_code == 405:  # Method Not Allowed
            print(f"The URL {url} does not accept file uploads.")
            return False

        # Check if the file was uploaded successfully and can be executed
        if "malicious.php" in response.text or response.status_code == 200:
            return True
        return False
    except requests.exceptions.RequestException as e:
        print(f"Error checking file upload vulnerability: {e}")
        return False

# Example usage
url = "http://example.com/upload"
if is_file_upload_vulnerable(url):
    print(f"The URL {url} is vulnerable to file upload attacks.")
else:
    print(f"The URL {url} is not vulnerable to file upload attacks.")